{"ast":null,"code":"import React,{useState,useEffect}from'react';import{characters,getRandomCharacter}from'../data/characters';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TeamGenerator=()=>{const[team,setTeam]=useState([null,null,null]);const[isSpinning,setIsSpinning]=useState([false,false,false]);const[isChosen,setIsChosen]=useState([false,false,false]);const generateTeam=()=>{setIsSpinning([true,false,false]);setIsChosen([false,false,false]);setTeam([null,null,null]);const selectCharacter=index=>{setTimeout(()=>{setTeam(prevTeam=>{const newTeam=[...prevTeam];newTeam[index]=getRandomCharacter(newTeam.filter(Boolean).map(c=>c.name));return newTeam;});setIsSpinning(prev=>{const next=[...prev];next[index]=false;if(index<2)next[index+1]=true;return next;});setIsChosen(prev=>{const next=[...prev];next[index]=true;return next;});if(index<2){selectCharacter(index+1);}},1000);};selectCharacter(0);};const renderCharacterSlot=index=>{const char=team[index];if(isSpinning[index]){return/*#__PURE__*/_jsx(\"div\",{className:\"character-card spinning\",children:/*#__PURE__*/_jsx(\"img\",{src:characters[Math.floor(Math.random()*characters.length)].image,alt:\"Spinning\"})},`slot-${index}`);}else if(char){return/*#__PURE__*/_jsxs(\"div\",{className:`character-card ${isChosen[index]?'chosen':''}`,children:[/*#__PURE__*/_jsx(\"img\",{src:char.image,alt:char.name,onError:e=>{e.target.onerror=null;e.target.src='/images/characters/default.png';}}),/*#__PURE__*/_jsx(\"p\",{children:char.name})]},char.name);}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"character-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:`/images/characters/slot-${index+1}.png`,alt:`Empty Slot ${index+1}`}),/*#__PURE__*/_jsx(\"p\",{children:\"Empty Slot\"})]},`slot-${index+1}`);}};useEffect(()=>{const intervals=isSpinning.map((spinning,index)=>{if(spinning){return setInterval(()=>{setTeam(prev=>{const newTeam=[...prev];newTeam[index]=characters[Math.floor(Math.random()*characters.length)];return newTeam;});},50);// Changed from 25 to 50 for slower spinning\n}return null;});return()=>intervals.forEach(interval=>interval&&clearInterval(interval));},[isSpinning]);const isGenerating=isSpinning.some(Boolean);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"MvC2 Team Generator\"}),/*#__PURE__*/_jsx(\"div\",{className:\"team-display-large\",children:[0,1,2].map(renderCharacterSlot)}),/*#__PURE__*/_jsx(\"div\",{className:\"team-generator-button-container\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{generateTeam();gtag('event','click',{'event_category':'Button','event_label':'Assemble My Team'});},disabled:isGenerating,className:`team-generator-button ${isGenerating?'generating':''}`,children:isGenerating?'Assembling...':'Assemble My Team'})})]});};export default TeamGenerator;","map":{"version":3,"names":["React","useState","useEffect","characters","getRandomCharacter","jsx","_jsx","jsxs","_jsxs","TeamGenerator","team","setTeam","isSpinning","setIsSpinning","isChosen","setIsChosen","generateTeam","selectCharacter","index","setTimeout","prevTeam","newTeam","filter","Boolean","map","c","name","prev","next","renderCharacterSlot","char","className","children","src","Math","floor","random","length","image","alt","onError","e","target","onerror","intervals","spinning","setInterval","forEach","interval","clearInterval","isGenerating","some","onClick","gtag","disabled"],"sources":["/Users/namux/mvc2-randomizer/src/components/TeamGenerator.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { characters, getRandomCharacter } from '../data/characters';\n\nconst TeamGenerator = () => {\n  const [team, setTeam] = useState([null, null, null]);\n  const [isSpinning, setIsSpinning] = useState([false, false, false]);\n  const [isChosen, setIsChosen] = useState([false, false, false]);\n\n  const generateTeam = () => {\n    setIsSpinning([true, false, false]);\n    setIsChosen([false, false, false]);\n    setTeam([null, null, null]);\n\n    const selectCharacter = (index) => {\n      setTimeout(() => {\n        setTeam(prevTeam => {\n          const newTeam = [...prevTeam];\n          newTeam[index] = getRandomCharacter(newTeam.filter(Boolean).map(c => c.name));\n          return newTeam;\n        });\n        setIsSpinning(prev => {\n          const next = [...prev];\n          next[index] = false;\n          if (index < 2) next[index + 1] = true;\n          return next;\n        });\n        setIsChosen(prev => {\n          const next = [...prev];\n          next[index] = true;\n          return next;\n        });\n\n        if (index < 2) {\n          selectCharacter(index + 1);\n        }\n      }, 1000);\n    };\n\n    selectCharacter(0);\n  };\n\n  const renderCharacterSlot = (index) => {\n    const char = team[index];\n    if (isSpinning[index]) {\n      return (\n        <div key={`slot-${index}`} className=\"character-card spinning\">\n          <img src={characters[Math.floor(Math.random() * characters.length)].image} alt=\"Spinning\" />\n        </div>\n      );\n    } else if (char) {\n      return (\n        <div key={char.name} className={`character-card ${isChosen[index] ? 'chosen' : ''}`}>\n          <img src={char.image} alt={char.name} onError={(e) => { e.target.onerror = null; e.target.src = '/images/characters/default.png' }} />\n          <p>{char.name}</p>\n        </div>\n      );\n    } else {\n      return (\n        <div key={`slot-${index + 1}`} className=\"character-card\">\n          <img src={`/images/characters/slot-${index + 1}.png`} alt={`Empty Slot ${index + 1}`} />\n          <p>Empty Slot</p>\n        </div>\n      );\n    }\n  };\n\n  useEffect(() => {\n    const intervals = isSpinning.map((spinning, index) => {\n      if (spinning) {\n        return setInterval(() => {\n          setTeam(prev => {\n            const newTeam = [...prev];\n            newTeam[index] = characters[Math.floor(Math.random() * characters.length)];\n            return newTeam;\n          });\n        }, 50); // Changed from 25 to 50 for slower spinning\n      }\n      return null;\n    });\n\n    return () => intervals.forEach(interval => interval && clearInterval(interval));\n  }, [isSpinning]);\n\n  const isGenerating = isSpinning.some(Boolean);\n\n  return (\n    <div>\n      <h2>MvC2 Team Generator</h2>\n      <div className=\"team-display-large\">\n        {[0, 1, 2].map(renderCharacterSlot)}\n      </div>\n      <div className=\"team-generator-button-container\">\n        <button \n          onClick={() => {\n            generateTeam();\n            gtag('event', 'click', {\n              'event_category': 'Button',\n              'event_label': 'Assemble My Team'\n            });\n          }} \n          disabled={isGenerating}\n          className={`team-generator-button ${isGenerating ? 'generating' : ''}`}\n        >\n          {isGenerating ? 'Assembling...' : 'Assemble My Team'}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default TeamGenerator;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}